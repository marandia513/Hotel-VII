<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplos Fetch I</title>

    <!-- Mi hoja de estilos externa -->
    <link rel="stylesheet" href="styleapi.css">
</head>

<body>
    
    <div class="container">
       <!---- <button onclick="traerDatosAPI()">Leer datos con la API</button> -->

     </div>

    <div id="contenido" class="contenido">
        <!-- Aquí insertaremos contenido que recuperamos
        mediante la API -->
    </div>


    <!-- Nuestro script ------------------------------>
    <script>
        traerDatosAPI()
            // Define una función llamada traerDatosAPI que realizará una solicitud a una API.
        function traerDatosAPI() {
            // Utiliza la función fetch para realizar una solicitud GET a la URL de la API.
                  
           fetch('https://api.open-meteo.com/v1/forecast?latitude=-40.7617&longitude=-71.6463&current=temperature_2m,is_day&forecast_days=1')
                 // La función then() se encarga de manejar la respuesta de la solicitud.
                .then(datos => datos.json()) // Convierte los datos de la respuesta a formato JSON y retorna una promesa.
               
               // Cuando se resuelva la promesa anterior, ejecuta esta función de devolución de llamada.
                .then(datos => {
                    // console.log(datos)
                    const temperatura = datos.current.temperature_2m;
                    console.log(`La temperatura actual es de ${temperatura} grados .`);
            
                    
                    // Actualiza el contenido del elemento HTML con el id "contenido".
                    contenido.innerHTML += `
                        <div class="tarjeta">
                            <!-- Muestra una imagen obtenida de los datos de la API. -->
                                 la temperatura es ${temperatura} grados                      

                     
                            
                        </div>`;
                })
        }
    </script>

</body>

</html>